

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>io_config module &mdash; A Mean Field Game of Shipping  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="io_loader module" href="io_loader.html" />
    <link rel="prev" title="A Mean Field Game of Shipping documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            A Mean Field Game of Shipping
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">io_config module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#io_config.activate_save_fig"><code class="docutils literal notranslate"><span class="pre">activate_save_fig()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#io_config.dict_to_namedtuple"><code class="docutils literal notranslate"><span class="pre">dict_to_namedtuple()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#io_config.load_config"><code class="docutils literal notranslate"><span class="pre">load_config()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#io_config.memoize"><code class="docutils literal notranslate"><span class="pre">memoize()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#io_config.wrap_with_config"><code class="docutils literal notranslate"><span class="pre">wrap_with_config()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="io_loader.html">io_loader module</a></li>
<li class="toctree-l1"><a class="reference internal" href="io_plots.html">io_plots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mfg_stats.html">mfg_stats module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">A Mean Field Game of Shipping</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">io_config module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/io_config.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-io_config">
<span id="io-config-module"></span><h1>io_config module<a class="headerlink" href="#module-io_config" title="Link to this heading"></a></h1>
<p>Dynamic Configuration Loader</p>
<p>A simple module for loading YAML configuration files into nested namedtuple structures.
The namedtuple structure dynamically reflects the configuration file structure.</p>
<dl class="py function">
<dt class="sig sig-object py" id="io_config.activate_save_fig">
<span class="sig-name descname"><span class="pre">activate_save_fig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_config.activate_save_fig" title="Link to this definition"></a></dt>
<dd><p>Activates a pre-configured figure saving function.</p>
<p>Creates a save_fig function that is pre-configured with the image directory
from the provided configuration object. This allows for consistent figure
saving across the application without repeatedly specifying the directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> – Configuration object containing the image directory setting.
Must have a <cite>config.image_dir</cite> attribute that specifies where
images should be saved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A pre-configured save_fig function from the io_plots module</dt><dd><p>that will save figures to the specified image directory. The returned
function can be called with additional arguments as needed.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ImportError</strong> – If the io_plots module cannot be imported.</p></li>
<li><p><strong>AttributeError</strong> – If the config object doesn’t have the expected structure
    (config.config.image_dir).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">save_fig</span> <span class="o">=</span> <span class="n">activate_save_fig</span><span class="p">(</span><span class="n">my_config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_fig</span><span class="p">(</span><span class="s2">&quot;this_is_a_plot&quot;</span><span class="p">)</span>  <span class="c1"># Saves to config.config.image_dir/&lt;this_is_a_plot&gt;.[png|pdf]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="io_config.dict_to_namedtuple">
<span class="sig-name descname"><span class="pre">dict_to_namedtuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'eval_'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#io_config.dict_to_namedtuple" title="Link to this definition"></a></dt>
<dd><p>Convert a nested dictionary to nested namedtuples recursively.</p>
<p>This function creates namedtuple classes dynamically based on the structure
of the input dictionary. Nested dictionaries become nested namedtuples,
except when the key ends with ‘_dict’ - in that case, the dictionary
is preserved as a regular Python dictionary. Additionally, keys starting
with the eval_key prefix will have their values evaluated as Python
expressions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the namedtuple class to be created.</p></li>
<li><p><strong>data</strong> (<em>dict</em>) – Dictionary to convert, can contain nested dictionaries.</p></li>
<li><p><strong>eval_key</strong> (<em>str</em><em>, </em><em>optional</em>) – Prefix that triggers Python evaluation of
string values. Keys starting with this prefix will have their
values passed to eval() and the prefix removed from the final
attribute name. Defaults to ‘<a href="#id1"><span class="problematic" id="id2">eval_</span></a>’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>An instance of a dynamically created namedtuple class</dt><dd><p>with the same structure as the input dictionary.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>namedtuple</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Keys ending with ‘_dict’ preserve their values as dictionaries</p></li>
<li><p>Keys starting with eval_key have their values evaluated as Python code</p></li>
<li><p>The eval_key prefix is stripped from the final attribute name</p></li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using eval() can be dangerous with untrusted input. Only use this
feature with trusted configuration files.</p>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;database&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="mi">5432</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;countries_dict&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;US&#39;</span><span class="p">:</span> <span class="s1">&#39;United States&#39;</span><span class="p">,</span> <span class="s1">&#39;FR&#39;</span><span class="p">:</span> <span class="s1">&#39;France&#39;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;eval_max_connections&#39;</span><span class="p">:</span> <span class="s1">&#39;100 * 2&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;eval_timeout_list&#39;</span><span class="p">:</span> <span class="s1">&#39;[30, 60, 120]&#39;</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">dict_to_namedtuple</span><span class="p">(</span><span class="s1">&#39;Config&#39;</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">host</span><span class="p">)</span>  <span class="c1"># &#39;localhost&#39; (namedtuple)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">countries_dict</span><span class="p">[</span><span class="s1">&#39;US&#39;</span><span class="p">])</span>  <span class="c1"># &#39;United States&#39; (dict)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">max_connections</span><span class="p">)</span>  <span class="c1"># 200 (evaluated)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">timeout_list</span><span class="p">)</span>  <span class="c1"># [30, 60, 120] (evaluated list)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="io_config.load_config">
<span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Config'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#io_config.load_config" title="Link to this definition"></a></dt>
<dd><p>Load YAML configuration file into nested namedtuple structure.</p>
<p>This function reads a YAML file and converts it into a tree of namedtuple
objects that mirrors the original structure of the configuration file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – Path to the YAML configuration file.</p></li>
<li><p><strong>root_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name for the root namedtuple class.
Defaults to “Config”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Root namedtuple object containing the entire configuration</dt><dd><p>structure as nested namedtuples.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>namedtuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – If the configuration file doesn’t exist.</p></li>
<li><p><strong>yaml.YAMLError</strong> – If the YAML file is malformed.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">load_config</span><span class="p">(</span><span class="s1">&#39;config.yaml&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">INPUT</span><span class="o">.</span><span class="n">PORTS</span><span class="o">.</span><span class="n">input_positions_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">OUTPUT</span><span class="o">.</span><span class="n">ports</span><span class="o">.</span><span class="n">intermediate</span><span class="o">.</span><span class="n">comb1_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">CONFIG</span><span class="o">.</span><span class="n">countries_export_dict</span><span class="p">[</span><span class="s1">&#39;Indonesia&#39;</span><span class="p">])</span>  <span class="c1"># Dict access</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="io_config.memoize">
<span class="sig-name descname"><span class="pre">memoize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">side</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pickle'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_config.memoize" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="io_config.wrap_with_config">
<span class="sig-name descname"><span class="pre">wrap_with_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">outer_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#io_config.wrap_with_config" title="Link to this definition"></a></dt>
<dd><p>Wraps a function with pre-configured keyword arguments.</p>
<p>Creates a new function that combines the outer keyword arguments with
any arguments passed at call time. Inner keyword arguments take precedence
over outer ones in case of conflicts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>callable</em>) – The function to wrap with configuration.</p></li>
<li><p><strong>**outer_kwargs</strong> – Keyword arguments to pre-configure the function with.
These will be passed to the wrapped function on every call.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A wrapped function that accepts both positional and keyword</dt><dd><p>arguments. The wrapped function combines outer_kwargs with any
arguments provided at call time.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">punctuation</span><span class="o">=</span><span class="s2">&quot;!&quot;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">greeting</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">name</span><span class="si">}{</span><span class="n">punctuation</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">say_hi</span> <span class="o">=</span> <span class="n">wrap_with_config</span><span class="p">(</span><span class="n">greet</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="s2">&quot;Hi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">say_hi</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
<span class="go">&#39;Hi Alice!&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">say_hi</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="n">punctuation</span><span class="o">=</span><span class="s2">&quot;?&quot;</span><span class="p">)</span>
<span class="go">&#39;Hi Bob?&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="A Mean Field Game of Shipping documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="io_loader.html" class="btn btn-neutral float-right" title="io_loader module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Charles-Albert Lehalle.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>